{% extends "base.html" %}

{% block title %}Editar Producto{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{{ url_for('static', filename='editar_producto.css') }}">
{% endblock %}

{% block content %}
<h2>Editar Producto</h2>

<form method="POST" action="{{ url_for('productos.editar_producto', id=producto.id_producto) }}">
    {{ form.hidden_tag() }}

    <label for="nombre">{{ form.nombre.label }}</label>
    {{ form.nombre(id="nombre", value=producto.nombre) }}
    {% if form.nombre.errors %}
        <p class="error">{{ form.nombre.errors[0] }}</p>
    {% endif %}

    <label for="precio">{{ form.precio.label }}</label>
    {{ form.precio(id="precio", value=producto.precio, step="0.01", min="0") }}
    {% if form.precio.errors %}
        <p class="error">{{ form.precio.errors[0] }}</p>
    {% endif %}

    <label for="categoria">{{ form.categoria.label }}</label>
    <select id="categoria" name="categoria">
        {% for categoria in categorias %}
            <option value="{{ categoria }}" {% if producto.categoria == categoria %}selected{% endif %}>{{ categoria }}</option>
        {% endfor %}
    </select>
    {% if form.categoria.errors %}
        <p class="error">{{ form.categoria.errors[0] }}</p>
    {% endif %}

    <label for="stock">{{ form.stock.label }}</label>
    {{ form.stock(id="stock", value=producto.stock, min="0") }}
    {% if form.stock.errors %}
        <p class="error">{{ form.stock.errors[0] }}</p>
    {% endif %}

    <label for="descripcion">{{ form.descripcion.label }}</label>
    {{ form.descripcion(id="descripcion", value=producto.descripcion) }}
    {% if form.descripcion.errors %}
        <p class="error">{{ form.descripcion.errors[0] }}</p>
    {% endif %}

    {{ form.submit() }}
</form>
{% endblock %}