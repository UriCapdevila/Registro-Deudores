<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Editar Cliente</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='editar_cliente.css') }}">
</head>
<body>
    <header class="header">
        <h1>Editar Cliente</h1>
        <nav>
            <a href="{{ url_for('dashboard.dashboard') }}">Dashboard</a>
            <a href="{{ url_for('clientes.clientes') }}">Volver a Clientes</a>
            <a href="{{ url_for('auth.confirmar_logout') }}">Cerrar sesión</a>
        </nav>
    </header>

    <main>
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <ul class="flash-messages">
                    {% for message in messages %}
                        <li>{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}

        <form method="POST" class="form-editar-cliente">
            <label for="nombre">Nombre completo</label>
            <input type="text" id="nombre" name="nombre" value="{{ cliente.nombre_cliente or '' }}" required>

            <label for="dni">DNI</label>
            <input type="text" id="dni" name="dni" value="{{ cliente.dni or '' }}" maxlength="15">

            <label for="email">Email</label>
            <input type="email" id="email" name="email" value="{{ cliente.email or '' }}" maxlength="254">

            <label for="telefono">Teléfono</label>
            <input type="text" id="telefono" name="telefono" value="{{ cliente.telefono or '' }}"
                   pattern="[0-9]{7,15}" maxlength="15"
                   title="Ingrese un número de teléfono válido (7-15 dígitos)">

            <label for="direccion">Dirección</label>
            <input type="text" id="direccion" name="direccion" value="{{ cliente.direccion or '' }}">

            <label for="observaciones">Observaciones</label>
            <textarea id="observaciones" name="observaciones" maxlength="500">{{ cliente.observaciones or '' }}</textarea>

            <button type="submit">Guardar cambios</button>
        </form>
    </main>

    <footer class="footer">
        &copy; {{ current_year or 2025 }} Sistema de Gestión | Uriel Dev
    </footer>
</body>
</html>
